# ⚠️ React2Shell 긴급 대응 권고 (2025-12-05)

## 📌 목차
[0. 핵심용어](#0-보안-용어-요약-표-키워드-정리)  
[1. 개요](#1-개요--react2shell-cve-2025-55182)  
[2. React2Shell 상세 설명](#2-react2shell-상세-설명)  
[3. CVSS란](#3-cvss란)  
[4. CVSS-100-의미](#4-cvss-100의-의미)  
[5. 주요-cvss-100-사례](#5-주요-cvss-100-사례)  
[6. 결론-및-권고사항](#6-결론-및-권고사항)
[7. 프론트엔드 개발자로서의 취약점 대응 전략](#7-프론트엔드-개발자로서의-취약점-대응-전략)

---

## 0. 보안 용어 요약 표 (키워드 정리)


| 용어 | 풀네임 | 뜻 / 설명 |
|------|---------|-----------|
| **RCE** | Remote Code Execution | 원격에서 공격자가 마음대로 코드 실행 가능하다는 뜻. 서버 장악 가능 수준이라 매우 위험함 |
| **RSC** | React Server Components | React 18에서 도입된 기능. 일부 컴포넌트를 서버에서 렌더링하고 필요한 정보만 클라이언트에 보내는 방식임 |
| **Flight 프로토콜** | Flight Protocol | RSC가 서버→클라이언트로 데이터를 보낼 때 사용하는 전송 포맷. 여기서 역직렬화 취약점 발생함 |
| **역직렬화(Deserialization)** | Deserialization | 문자열/바이너리를 객체로 되돌리는 과정. 입력 검증 부족하면 공격자가 악성 객체를 실행하게 만들 수 있음 |
| **PoC** | Proof of Concept | 취약점이 실제로 공격 가능한지 보여주는 ‘공격 테스트 코드’ 같은 것임 |
| **Exploit** | 공격 코드 | 취약점을 실제 공격에 사용 가능한 코드 |
| **CVSS** | Common Vulnerability Scoring System | 취약점의 심각도를 0~10점으로 평가하는 국제 표준 점수 |
| **무결성(Integrity)** | - | 데이터가 마음대로 변경되지 않는 성질. 깨지면 공격자가 DB와 서버 내용 아무거나 바꿀 수 있음 |
| **기밀성(Confidentiality)** | - | 민감한 데이터가 보호되어야 하는 성질. 깨지면 유출됨 |
| **가용성(Availability)** | - | 서비스가 정상 작동하는 상태. 깨지면 시스템 다운됨 |
| **내부망 이동(Lateral Movement)** | - | 서버 하나 뚫고 내부 네트워크까지 확산하는 공격 방법 |


---

## 1. 개요 — React2Shell (CVE-2025-55182)

- React.js / Next.js RSC(React Server Components)에서 사용되는 Flight 프로토콜 역직렬화 문제로 발생한 취약점임  
- 악성 HTTP 요청만 보내면 인증 없이 서버에서 임의 코드 실행 가능함(RCE)  
- Log4Shell 급으로 위험함  
- CVSS 점수 10.0 받음  

---

## 2. React2Shell 상세 설명

### 🛠 기술적 성격
- RSC는 서버와 클라이언트 사이 상태 전송 위해 Flight 프로토콜 사용함  
- 역직렬화 과정에서 입력 검증 부족함  
- 공격자가 Flight 스트림에 악성 데이터 섞어 보내면 서버가 그대로 역직렬화함  
- 결과적으로 공격자가 원하는 코드 서버에서 그대로 실행됨  

### 🧵 공격 시나리오
1. 공격자가 조작한 Flight 요청 전송  
2. 서버가 이를 정상 요청으로 처리  
3. 역직렬화 과정에서 악성 코드 실행됨  
4. 서버 장악 → 내부망 이동 공격 가능해짐  

---

## 3. CVSS란?

- **CVSS**는 취약점의 심각도 점수 매기는 국제 표준임  
- 점수는 0.0~10.0  
- 점수 높을수록 위험함  

### ⚡ CVSS 평가 요소

| 메트릭 | 설명 |
|-------|------|
| **Base** | 취약점 자체 위험도(난이도, 인증 여부, 영향도) |
| **Temporal** | 패치 여부, PoC 공개 여부 등 시간적 요소 |
| **Environmental** | 해당 조직 환경에서의 실제 영향도 |

---

## 4. CVSS 10.0의 의미

- CVSS **10.0 = 최고 위험도 Critical**  
- 사실상 “가장 위험한 취약점”에 해당함  

### 🔥 이런 조건 충족할 때 10점 나옴

| 조건 | 내용 |
|------|------|
| 원격 인증 필요 없음 | 로그인 없이 공격 가능 |
| 공격 난이도 매우 낮음 | 패킷 하나로 공격 가능 |
| 영향도 매우 큼 | 기밀·무결·가용성 모두 파괴 |
| 공격 코드 존재 가능성 높음 | PoC 나오면 대규모 피해 발생 |

React2Shell은 이 조건 대부분 충족함.

---

## 5. 주요 CVSS 10.0 사례

| 취약점 | 설명 |
|--------|------|
| **Log4Shell (Log4j)** | 문자열 하나로 RCE 가능. 전 세계 수억 대 서버 영향 |
| **EternalBlue** | SMB 취약점 → WannaCry 확산의 핵심 |
| **BlueKeep(9.8)** | 인증 없이 RDP에서 RCE 가능. 사실상 10급 위험도 |

---

## 6. 결론 및 권고사항

- React2Shell은 RSC 사용하는 모든 React/Next 서버에 매우 위험함  
- 즉시 패치 설치가 최우선  
- Flight 엔드포인트 외부 노출 여부 점검 필요  
- WAF에 Flight 프로토콜 관련 필터 적용 권장  
- RSC 관련 비정상 요청 로그 반드시 확인해야 함  

**요약:**  
React2Shell은 Log4Shell급 CVSS 10.0 원격 코드 실행 취약점임.  
React/Next 기반 서비스면 바로 조치해야 함.


--- 

## 7. 프론트엔드 개발자로서의 취약점 대응 전략

### 🛡️ React 보안 전략

프론트엔드 개발자는 React 앱 보안 위해  
라이브러리 업데이트 + 입력값 검증 + 보안 모범 사례 지키는 게 중요함.  
최근 심각 취약점 **React2Shell** 등장해서 빠른 패치 필수임.

---

## 🔥 주요 취약점 & 대응 방안

### 🧨 XSS (Cross-Site Scripting)

React가 JSX 값 자동 이스케이프 해주지만  
`dangerouslySetInnerHTML` 쓰면 취약해질 수 있음.

| 위험 요소 | 설명 |
|----------|------|
| `dangerouslySetInnerHTML` | 직접 HTML 삽입 → XSS 위험 증가 |

**대응법**
- `dangerouslySetInnerHTML` 사용 지양함  
- 사용자 입력값 철저 검증 + DOMPurify로 새니타이징함  
- 강력한 CSP 적용해서 악성 스크립트 실행 막음
  
---

### 🎯 CSRF (Cross-Site Request Forgery)

사용자 권한 도용해서 악성 요청 발생시키는 공격임.

| 대응 전략 | 설명 |
|-----------|------|
| 안티-CSRF 토큰 | 민감 요청 시 필수 포함 |
| SameSite 쿠키 | Strict/Lax로 교차 사이트 쿠키 전송 막음 |
| JWT 활용 | 요청 유효성 검증에 도움 |

---

### 📦 의존성 패키지 취약점

서드파티 라이브러리 취약하면 앱 전체 위험해짐.

| 대응 전략 | 설명 |
|-----------|------|
| 정기 업데이트 | npm/yarn으로 최신 패치 적용 |
| 보안 스캔 도구 | Snyk 등으로 취약점 자동 탐지 |

---

### 🚨 React2Shell (CVE-2025-55182)

RSC 역직렬화 과정에서 발생한 **RCE(원격 코드 실행)** 취약점임.  
위험도 **CVSS 10.0 (Critical)** 최고 수준임.

| 조치 | 내용 |
|------|------|
| 즉각적인 패치 | `react-server-dom-*` (19.0.0~19.2.0) 최신 버전으로 업데이트 |
| 임시 대응 | WAF 통해 악성 요청 차단 |

---

## ✅ 결론
프론트 개발자도 보안 적극적으로 챙겨야 함.  
특히 React2Shell 같은 심각 취약점은 **즉시 패치가 최우선 과제임**.
