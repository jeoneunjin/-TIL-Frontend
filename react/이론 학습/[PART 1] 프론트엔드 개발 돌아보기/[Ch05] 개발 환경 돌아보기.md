# Ch.05 개발 환경 돌아보기 (Node.js & 프론트엔드 도구)

## 🎯 학습 목표

- 프론트엔드 개발에 필수적인 **Node.js 환경**과 **비동기 원리**를 이해한다.
- **패키지 매니저(npm, yarn, pnpm)**의 차이점과 **모노레포** 환경을 이해한다.
- **ESLint**와 **Prettier**를 사용한 코드 퀄리티 관리 방법을 숙지한다.
- **웹팩**과 **비트**의 차이를 알고 적절히 활용한다.

---

## 5.1 Node.js 구조와 비동기 논블로킹 원리

**Node.js**는 C/C++로 작성된 **V8 JavaScript 엔진**을 기반으로, 브라우저 밖 환경(서버, 로컬)에서 JavaScript 코드를 실행하는 **런타임 환경**입니다.

### 5.1.1 동기/비동기 & 블로킹/논블로킹

| 개념 | 특징 | Node.js 모델 |
| :--- | :--- | :--- |
| **동기 (Synchronous)** | 하나의 작업이 끝날 때까지 다음 작업이 대기 (순차적 실행). | 동기 코드는 **블로킹** 방식으로 동작합니다. |
| **비동기 (Asynchronous)** | 작업 완료를 기다리지 않고 다음 작업 시작을 위임. | Node.js는 **비동기 논블로킹 I/O 모델**을 채택하여 효율성을 높입니다. |
| **블로킹 (Blocking)** | 메인 스레드의 실행 흐름이 작업을 처리하는 동안 멈춤. | - |
| **논블로킹 (Non-blocking)** | 메인 스레드가 작업을 백그라운드에 위임하고 다음 코드를 즉시 실행. | **이벤트 루프**를 통해 메인 스레드의 멈춤을 방지합니다. |

### 5.1.2 이벤트 루프와 비동기 처리 우선순위

Node.js의 비동기 처리는 **이벤트 루프**에 의해 관리되며, 작업의 종류에 따라 실행 우선순위가 나뉩니다.

| 비동기 유형 | 예시 | 큐 종류 | 우선순위 |
| :--- | :--- | :--- | :--- |
| **마이크로태스크** | `Promise.then()`, `async/await` | **마이크로태스크 큐** | **높음** (콜스택이 빈 후 즉시 전체 처리) |
| **매크로태스크** | `setTimeout()`, `setInterval()`, I/O | **태스크 큐** | 낮음 (마이크로태스크 큐가 완전히 빈 후 처리) |

**✅ 핵심 요약:**
`Promise.then()`이나 `async/await`에 의해 생성된 마이크로태스크는 `setTimeout`과 같은 매크로태스크보다 **항상 먼저 실행**됩니다.

**예시 비교**

| 코드 | 실행 메커니즘 | 출력 순서 |
| :--- | :--- | :--- |
| `setTimeout(callback, 0)` | 매크로태스크 큐에 진입 | 모든 동기/마이크로태스크 후 실행 |
| `Promise.resolve().then(callback)` | 마이크로태스크 큐에 진입 | 동기 코드 종료 직후 실행 |
| `await delay(ms)` | Promise(`.then()`)처럼 처리됨 | `await` 이전까지 동기 실행, 이후 부분은 마이크로태스크로 분리되어 나중에 실행 |

---

## 5.2 Node.js 환경 관리 도구

### 5.2.1 NVM (Node Version Manager)

- **역할:** Node.js **버전 관리** 커맨드라인 도구입니다.
- **목적:** 프로젝트별로 필요한 Node.js 버전을 손쉽게 **설치, 삭제, 전환**하여 환경 의존성 문제를 해결합니다.

### 5.2.2 패키지 매니저 비교: npm, yarn, pnpm

| 구분 | npm (Node Package Manager) | yarn | pnpm (Performant npm) |
| :--- | :--- | :--- | :--- |
| **의존성 설치** | `node_modules`에 중복 설치 가능 | 병렬 설치 (속도 개선), PnP(Plug-n-Play) 기능 도입 (node\_modules 미사용) | **Store (공용 저장소)**에 설치 후 `node_modules`는 **심볼릭 링크**로 연결 |
| **디스크 효율** | 낮음 | 중간 (PnP 사용 시 높음) | **매우 높음** 💾 (중복 제거) |
| **유령 의존성** | 발생 가능 | 해결됨 | 해결됨 |
| **주요 이슈** | 속도 느림, 비효율적 디스크 사용 | PnP 호환성, 전역 캐시 손상 | Docker 환경 등에서 심볼릭 링크 권한 문제 발생 가능 |

---

## 5.3 모노레포 (Monorepo)

**모노레포**는 여러 개의 프로젝트(애플리케이션, 라이브러리) 코드를 **단일 저장소(Repository)**에서 관리하는 전략입니다.

- **장점:** 코드 공유 용이, 버전 일관성 유지, 통합 빌드/테스트 관리.
- **단점:** 저장소 크기 증가, 복잡한 설정 필요.

---

## 5.4 🗝 핵심 키워드 요약

| 키워드 | 한 줄 요약 |
| :--- | :--- |
| **`Node.js`** | V8 엔진 기반으로 브라우저 밖에서 JavaScript를 실행하는 비동기, 싱글 스레드 런타임 환경입니다. |
| **`pnpm`** | 심볼릭 링크와 전역 스토어를 활용하여 디스크 사용을 효율화하고 유령 의존성을 해결하는 패키지 매니저입니다. |
| **`모노레포`** | 여러 프로젝트 코드를 단일 저장소에서 관리하며 코드 공유 및 일관성을 높이는 개발 전략입니다. |
| **`ESLint`** | 코드의 문법적 오류와 잠재적 버그를 검사하여 코드 품질과 안정성을 확보하는 정적 분석 도구입니다. |
| **`Prettier`** | 설정된 규칙에 따라 자동으로 코드 스타일(들여쓰기, 공백 등)을 통일하여 가독성을 높이는 포맷팅 도구입니다. |
| **`도커 (Docker)`** | 애플리케이션과 환경을 컨테이너로 패키징하여 환경에 상관없이 일관된 배포를 가능하게 하는 기술입니다. |
| **`웹팩 (Webpack)`** | 프로젝트의 다양한 모듈을 브라우저가 인식 가능한 최적화된 파일(번들)로 묶어주는 모듈 번들러입니다. |
| **`비트 (Vite)`** | 네이티브 ES Modules를 활용하여 개발 서버 구동 및 HMR 속도를 혁신적으로 개선한 차세대 빌드 도구입니다. |