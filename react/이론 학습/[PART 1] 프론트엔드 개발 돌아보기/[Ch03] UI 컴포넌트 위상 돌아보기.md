# 📘 Ch03 UI 컴포넌트의 위상 돌아보기

## 🎯 학습 목표
- 프론트엔드 개발에서 **UI 컴포넌트가 중요한 이유** 이해하기  
- **바닐라 자바스크립트**로 간단한 컴포넌트 제작하기  
- **웹 컴포넌트 API**로 컴포넌트 제작 및 캡슐화 개념 익히기  

---

## 📝 키워드 리마인드
`UI 컴포넌트`, `웹 컴포넌트`, `추상화`, `인터페이스`, `캡슐화`,  
`상태(State)`, `프롭스(Props)`, `Intersection Observer`, `지연로딩`,  
`섀도우 DOM`, `버추얼 DOM`, `커스텀 엘리먼트`

---

## 3.2 프론트엔드 개발에서의 UI 컴포넌트 위상
> "프론트엔드 개발자는 **재사용 가능한 컴포넌트 코드**로 변환하여  
> 웹 어디서든 같은 UX를 제공해야 한다."

- **설계 관점**: 추상화 · 캡슐화 · 인터페이스  
- **예시**  
  - 🎨 색상 → `Green500`, `Red700` 같은 **디자인 토큰** 활용  
  - 🔘 버튼 → `<PrimaryButton>`, `<SecondaryButton>` 명확한 네이밍  

---

## 3.3 UI 컴포넌트의 추상화, 인터페이스, 캡슐화
### 핵심 개념
- **State(상태값)** → 내부에서 변경 가능한 동적 데이터 (`useState`, `this.state`)  
- **Props(프롭스)** → 부모 → 자식 데이터 전달 (수정 불가)  
- **추상화** → 공통 특성 일반화, 불필요한 복잡성 제거  
- **인터페이스** → 외부에 제공하는 API(메서드, 속성, 이벤트)  

💡 함수 차이  
- `someFunction` → 함수 **그 자체**  
- `someFunction()` → 함수 **호출 결과(반환값)**  

---

## 3.4 바닐라 자바스크립트로 컴포넌트 만들기
- **예시: LazyImageLoader**
  - `Intersection Observer API`를 직접 다루지 않고  
  - `LazyImageLoader.observe()` 호출만으로 **자동 지연 로딩** 구현  

---

## 3.5 웹 컴포넌트 API로 컴포넌트 만들기
- **커스텀 엘리먼트**: 원하는 이름의 태그 생성 가능  
- **섀도우 DOM**  
  - 독립적인 DOM 트리 생성 → 외부 CSS/JS 영향 차단  
  - `mode: 'closed'` → 외부 스크립트에서 접근 불가 (**캡슐화**)  

```html
<div id="host"></div>
<script>
  const host = document.getElementById('host');
  const shadowRoot = host.attachShadow({ mode: 'closed' });

  const innerDiv = document.createElement('div');
  innerDiv.textContent = 'Hello from Shadow DOM!';
  shadowRoot.appendChild(innerDiv);
</script>
```

- **버추얼 DOM (Virtual DOM)**  
  - React 등에서 사용하는 **메모리 상의 DOM 복제본**  
  - 변경 사항을 비교(diffing)하여 실제 DOM에 최소한의 업데이트 수행  
  - 장점: 빠른 UI 업데이트 가능  
  - 단점: 비교 과정에서 연산 비용 발생  

- **섀도우 DOM (Shadow DOM)**  
  - 웹 컴포넌트에서 개별 DOM 트리를 생성 → 스타일과 구조 **격리**  
  - 외부 CSS/JS의 영향을 받지 않음  
  - `mode: 'closed'` 설정 시 외부 스크립트 접근 불가 → **캡슐화 보장**  
  - 장점: 스타일 보호, 독립성 강화  
  - 단점: 기존 CSS와 연동 어려움, 브라우저 지원 제약 가능  

---

## 3.6 바닐라 JS vs 웹 컴포넌트 API

| 특징 | 바닐라 자바스크립트 | 웹 컴포넌트 API |
|------|--------------------|-----------------|
| 추상화 | 클래스 & 함수로 가능 | 표준 API로 가능 |
| 재사용성 | 가능하지만 팀 표준 필요 | 커스텀 엘리먼트로 보장 |
| 캡슐화 | 직접 관리해야 함 | 섀도우 DOM으로 보장 |
| 복잡성 | 단순, 직접 제어 | 초기 학습 필요 |
| 스타일 보호 | ❌ 외부 영향 받음 | ✅ 외부 스타일 차단 |

---

## 🌟 결론
1. UI 컴포넌트는 **추상화·캡슐화·인터페이스** 개념으로 바라봐야 한다.  
2. 바닐라 JS → **클래스/함수**로 추상화 가능  
3. 웹 컴포넌트 API → **섀도우 DOM** 활용, 외부 간섭 차단 → 독립성과 모듈화 보장  
4. 공통적으로 **재사용성과 일관된 UX 제공**이 핵심 목표 🎯  
